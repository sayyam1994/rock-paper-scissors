<html>
    <head>
        <title>Rock Paper Scissors</title>
        <link href="style.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="header">
            Rock Paper Scissors
        </div>
        <div class="result">
            <div class="player">
                Player Score:
                <span class="playerScore">0</span>
            </div>
            <div class="roundNo">
                <span class="round"></span>
            </div>
            <div class="comp">
                Computer Score:
                <span class="compScore">0</span>
            </div>
        </div>
        <div class="message">
                Five Rounds:-Choose Your Move
        </div>
        
        <div class="weapon">
                <input class="rock" type="image" src="rock.jpg">
                <input class="paper" type="image" src="paper.jpg">
                <input class="scissors" type="image" src="scissors.jpg">
            </div>
        <div class="end">
            <button class="clear">
                New Game!
            </button>
        </div>
    </body>
        <script>

            const rock = document.querySelector(".rock");
            const paper = document.querySelector(".paper");
            const scissors = document.querySelector(".scissors");
            const message = document.querySelector(".message");
            const player = document.querySelector(".playerScore");
            const computer = document.querySelector(".compScore");
            const roundCount = document.querySelector(".round");
            const clear = document.querySelector(".clear");
            let compScore = 0;
            let playerScore = 0;
            let round = 1;

            const computerSelection = () => {
                let option = ["rock","paper","scissors"];
                return option[Math.floor(Math.random() * 3)];
            }

            clear.style.display = "none";
            player.textContent = playerScore;
            computer.textContent = compScore;
            roundCount.textContent = "Round No-" + round;

            /****************Functions**********************/

            function winner(playerSelection,computerSelection){
                
                
                if (playerSelection == computerSelection) {
                    message.textContent = ("Tie");
                    player.textContent = playerScore;
                    computer.textContent = compScore;
                } 
                else if (playerSelection == "rock") {
                    if (computerSelection == "paper") {
                        message.textContent = ("You lose! Paper beats Rock");
                        compScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                        
                    }
                     else if (computerSelection == "scissors") {
                        message.textContent = ("You win! Rock beats Scissors");
                        playerScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                        
                    }
                }
                else if (playerSelection == "paper") {
                    if (computerSelection == "scissors") {
                        message.textContent = ("You lose! Scissors beats Paper");
                        compScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                    }
                     else if (computerSelection == "rock") {
                        message.textContent = ("You win! Paper beats Rock");
                        playerScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                     }
                }
                else if (playerSelection == "scissors") {
                    if (computerSelection == "rock") {
                        message.textContent = ("You lose! Rock beats Scissors");
                        compScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                    }
                     else if (computerSelection == "paper") {
                        message.textContent = ("You win! Scissors beats Paper");
                        playerScore++;
                        player.textContent = playerScore;
                        computer.textContent = compScore;
                    }
                }
                round++;
                roundCount.textContent = "Round No-" + `${round}`;
                if (round == 5) {
                    endGame();
                }                
                
            }
            

            function endGame(){

                if (playerScore>compScore) {
                    message.textContent = "Game Over! You Win";

                } else if (compScore>playerScore) {
                    message.textContent = "Game Over! You Lose";
                
                } else if(playerScore==compScore) {
                    message.textContent = "Game Over! It's a Tie";
                }

                rock.disabled = true;
                paper.disabled = true;
                scissors.disabled = true;
                clear.style.display = "block";
            }


            function clearAll(){
                playerScore = 0;
                compScore = 0;
                round = 1;
                message.textContent = "Five Rounds:-Choose Your Move";
                player.textContent = playerScore;
                computer.textContent = compScore;
                roundCount.textContent = "Round No-" + `${round}`;
                rock.disabled = false;
                paper.disabled = false;
                scissors.disabled = false;
                clear.style.display = "none";
            }

            /*****************Event Listners********************/

            rock.addEventListener("click", () => {winner("rock", computerSelection());});
            paper.addEventListener("click", () => {winner("paper", computerSelection());});
            scissors.addEventListener("click", () => {winner("scissors", computerSelection());});
            clear.addEventListener("click", clearAll);

            
             </script>
    
</html>